(this["webpackJsonppokemon-frontend"]=this["webpackJsonppokemon-frontend"]||[]).push([[0],{230:function(e,t,n){e.exports=n(478)},239:function(e,t,n){},240:function(e,t,n){},475:function(e,t){},478:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(43),o=n.n(c),i=n(10),s=n(12),l={currentUser:null,partyDetail:null,session_id:null,gamestate:null,order:!1},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return"lobby-ready"===t.type||"all-players-ordered"===t.type||"battle-complete"===t.type||"game-over"===t.type?Object(s.a)({},e,{gamestate:t.state}):"SET_PARTY_DETAIL"===t.type?Object(s.a)({},e,{partyDetail:t.pokemon}):"SET_GAME_STATE"===t.type?Object(s.a)({},e,{gamestate:t.state}):"SET_CURRENT_USER"===t.type?Object(s.a)({},e,{currentUser:t.user}):"SET_SESSION_ID"===t.type?Object(s.a)({},e,{session_id:t.session_id}):"SET_ORDERED"===t.type?Object(s.a)({},e,{ordered:!0}):e},m=(n(239),n(22)),d=n(48),p=n(30),f=n(18),y=(n(240),n(55)),g=n.n(y),b=function(e){return{type:"SET_CURRENT_USER",user:e}},h=function(e){return{type:"SET_SESSION_ID",session_id:e}};var E=function(e){var t={display:"flex",justifyContent:"center",alignItems:"center",padding:"1em",marginBottom:"0.5em",width:"3.7em",height:"0.5em",backgroundColor:function(){switch(e.type){case"normal":return"#A8A878";case"fighting":return"#C03028";case"flying":return"#A890F0";case"poison":return"#A040A0";case"ground":return"#E0C068";case"rock":return"#B8A038";case"bug":return"#A8B820";case"ghost":return"#705898";case"steel":return"#B8B8D0";case"fire":return"#F08030";case"water":return"#6890F0";case"grass":return"#78C850";case"electric":return"#F8D030";case"psychic":return"#F85888";case"ice":return"#98D8D8";case"dragon":return"#7038F8";case"dark":return"#705848";default:return"#FFFFFF"}}(),color:"white",border:"2px solid black",borderRadius:"1em"};return r.a.createElement("div",{style:t},e.type.charAt(0).toUpperCase()+e.type.slice(1))};var k=function(e){var t=Object(i.b)(),n=function(e){switch(e){case"normal":return"#A8A878";case"fighting":return"#C03028";case"flying":return"#A890F0";case"poison":return"#A040A0";case"ground":return"#E0C068";case"rock":return"#B8A038";case"bug":return"#A8B820";case"ghost":return"#705898";case"steel":return"#B8B8D0";case"fire":return"#F08030";case"water":return"#6890F0";case"grass":return"#78C850";case"electric":return"#F8D030";case"psychic":return"#F85888";case"ice":return"#98D8D8";case"dragon":return"#7038F8";case"dark":return"#705848";default:return"#FFFFFF"}},a=Object.values(e.pokemon.stats).reduce((function(e,t){return e+t})),c=(e.pokemon.types.map((function(e,t){return r.a.createElement(E,{key:t,type:e})})),Object(s.a)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",margin:".5em",width:"10em",border:"2px solid black",borderRadius:"1em",fontSize:"1.5em"},function(){var t=e.pokemon.types;return t.length>1?{backgroundImage:"-webkit-linear-gradient(30deg, ".concat(n(t[0])," 50%, ").concat(n(t[1])," 50%)")}:{backgroundColor:n(t[0])}}(),{cursor:"pointer"}));return r.a.createElement("div",{style:c,onClick:function(){return t({type:"SET_PARTY_DETAIL",pokemon:e.pokemon})}},r.a.createElement("span",{style:{marginBottom:".5em"}},function(){var t=e.pokemon.name;return t.charAt(0).toUpperCase()+t.slice(1)}()),"CP: ".concat(a),r.a.createElement("img",{src:e.pokemon.sprite.front,alt:"Pokemon Sprite",width:"50%",height:"auto"}))},v=n(36);var j=function(e){var t=e.pokemon.types.map((function(e,t){return r.a.createElement(E,{key:t,type:e})})),n=[{name:"HP",value:e.pokemon.stats.hp},{name:"Attack",value:e.pokemon.stats.attack},{name:"Defense",value:e.pokemon.stats.defense},{name:"Sp. Attack",value:e.pokemon.stats["special-attack"]},{name:"Sp. Defence",value:e.pokemon.stats["special-defense"]},{name:"Speed",value:e.pokemon.stats.speed}];return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",backgroundColor:"#c5c5c5",border:"2px solid black",borderRadius:"1em",overflow:"hidden",userSelect:"none"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:"1.25em",width:"25%",height:"100%",backgroundColor:"#c5c5c5",borderRight:"2px solid black"}},r.a.createElement("span",{style:{fontSize:"2em"}},"#".concat(e.pokemon.id," ").concat(function(){var t=e.pokemon.name;return t.charAt(0).toUpperCase()+t.slice(1)}())),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",width:"60%",marginTop:"1em"}},t),r.a.createElement("img",{src:e.pokemon.sprite.front,alt:"Pokemon Sprite",width:"75%",height:"auto"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:"1.25em",height:"100%",flex:"1",backgroundColor:"#c5c5c5"}},r.a.createElement(v.c,null,r.a.createElement(v.b,{data:n},r.a.createElement(v.e,{dataKey:"name"}),r.a.createElement(v.f,{type:"number",domain:[0,200]}),r.a.createElement(v.a,{dataKey:"value",fill:"#8884d8"}),r.a.createElement(v.d,{cursor:{fill:"transparent"}})))))};var C=function(){var e=Object(i.c)((function(e){return e.partyDetail})),t=Object(i.c)((function(e){return e.currentUser})),n=Object(a.useState)([]),c=Object(m.a)(n,2),o=c[0],s=c[1];Object(a.useEffect)((function(){g()({method:"get",url:"https://us-central1-pokemon-412.cloudfunctions.net/retrieve-party?user_id=".concat(t.uid),headers:{crossDomain:!0,"Access-Control-Allow-Credentials":!0}}).then((function(e){s(e.data)}))}),[]);var l=o.map((function(e,t){return r.a.createElement(k,{key:t,pokemon:e})}));return r.a.createElement("div",null,r.a.createElement("div",{style:{transform:"scale(0.9)"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"60vw",height:"90vh"}},r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",justifyItems:"center"}},l),e&&r.a.createElement(j,{pokemon:e}))))};var O=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.ordered})),a=Object(i.c)((function(e){return e.session_id})),c=Object(i.c)((function(e){return e.currentUser})),o=function(e){switch(e){case"normal":return"#A8A878";case"fighting":return"#C03028";case"flying":return"#A890F0";case"poison":return"#A040A0";case"ground":return"#E0C068";case"rock":return"#B8A038";case"bug":return"#A8B820";case"ghost":return"#705898";case"steel":return"#B8B8D0";case"fire":return"#F08030";case"water":return"#6890F0";case"grass":return"#78C850";case"electric":return"#F8D030";case"psychic":return"#F85888";case"ice":return"#98D8D8";case"dragon":return"#7038F8";case"dark":return"#705848";default:return"#FFFFFF"}},l=Object.values(e.pokemon.stats).reduce((function(e,t){return e+t})),u=(e.pokemon.types.map((function(e,t){return r.a.createElement(E,{key:t,type:e})})),Object(s.a)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",margin:".5em",width:"10em",border:"2px solid black",borderRadius:"1em",fontSize:"1.5em"},function(){var t=e.pokemon.types;return t.length>1?{backgroundImage:"-webkit-linear-gradient(30deg, ".concat(o(t[0])," 50%, ").concat(o(t[1])," 50%)")}:{backgroundColor:o(t[0])}}(),{cursor:"pointer"}));return r.a.createElement("div",{style:u,onClick:function(){return r=e.poke_id,void(n&&t({type:"swap-pokemon",meta:{remote:!0},data:{session_id:a,user_id:c.uid,swap:r}}));var r}},r.a.createElement("span",{style:{marginBottom:".5em"}},function(){var t=e.pokemon.name;return t.charAt(0).toUpperCase()+t.slice(1)}()),"CP: ".concat(l),r.a.createElement("img",{src:e.pokemon.sprite.front,alt:"Pokemon Sprite",width:"50%",height:"auto"}))},S=n(201);var A=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.session_id})),c=Object(i.c)((function(e){return e.currentUser})),o=Object(i.c)((function(e){return e.ordered})),s=Object(a.useState)(!1),l=Object(m.a)(s,2),u=l[0],d=(l[1],{margin:"1em",padding:".5em",fontSize:"32px"}),p={display:"flex",justifyItems:"center"},y=Object(i.c)((function(e){return e.gamestate})),g=y.players[c.uid].party.filter((function(e){return e.alive})),b=Object(a.useState)(g),h=Object(m.a)(b,2),E=h[0],k=h[1],v=y.players[Object.keys(y.players).filter((function(e){return e!==c.uid}))].party.filter((function(e){return e.alive})),j=function(){t({type:"send-pick-order",meta:{remote:!0},data:{session_id:n,user_id:c.uid,party_order:E}}),t({type:"SET_ORDERED"})},C=v.map((function(e,t){return r.a.createElement(O,{key:t,pokemon:e})})),A=g.map((function(e,t){return r.a.createElement(O,{key:t,pokemon:e,poke_id:e.pokemon_id})}));return r.a.createElement("div",{style:{transform:"scale(0.7)"}},r.a.createElement("span",{style:{fontSize:"48px"}},"Opponent's Party"),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",justifyItems:"center"}},C),r.a.createElement("h1",null,g.length&&v.length?"VS":g.length?"You Win!":"You Lose!"),!o&&r.a.createElement(S.a,{list:E,setList:k,style:p},E.map((function(e,t){return r.a.createElement(O,{key:t,pokemon:e})}))),o&&r.a.createElement("div",{style:p},A),r.a.createElement("span",{style:{fontSize:"48px"}},"My Party"),r.a.createElement("br",null),o?u?r.a.createElement(f.a,{variant:"disabled",style:d,onClick:function(){return j()}},"Awaiting Opponent"):r.a.createElement(f.a,{variant:"danger",style:d,onClick:function(){t({type:"ready-up",meta:{remote:!0},data:{session_id:n,user_id:c.uid}})}},"Ready Up"):r.a.createElement(f.a,{variant:"danger",style:d,onClick:function(){return j()}},"Start Fight"))},w=n(76),x=n(434).uuid;var _=function(){var e,t=Object(i.b)(),n=Object(i.c)((function(e){return e.currentUser})),c=Object(i.c)((function(e){return e.gamestate})),o=Object(a.useState)({myCode:"",theirCode:""}),l=Object(m.a)(o,2),u=l[0],d=l[1],y={width:"500px",height:"32px",fontSize:"24px"};return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"40vh",margin:"auto"}},c&&r.a.createElement(p.a,{to:"/battle"}),r.a.createElement("div",null,r.a.createElement(f.a,{variant:"danger",onClick:function(){return function(){var e=x();console.log(e),d(Object(s.a)({},u,{myCode:e})),t(h(e)),t({type:"create-lobby",meta:{remote:!0},data:{session_id:e,user_id:n.uid}})}()}},"Create Lobby"),r.a.createElement("input",{style:y,type:"disabled",value:u.myCode,placeholder:"Share This Code"})),r.a.createElement("div",null,r.a.createElement("input",{style:y,placeholder:" Paste Code Here",onChange:(e="theirCode",function(t){d(Object(s.a)({},u,Object(w.a)({},e,t.target.value)))})}),r.a.createElement(f.a,{variant:"danger",onClick:function(){return function(){var e=u.theirCode;t({type:"join-lobby",meta:{remote:!0},data:{session_id:e,user_id:n.uid}}),t(h(e))}()}},"Join Lobby"),r.a.createElement("br",null)))};var D=function(){return r.a.createElement("div",{style:{width:"100vw",height:"50%",display:"flex",justifyContent:"space-around",alignItems:"center",textAlign:"center",flexDirection:"column"}},r.a.createElement("span",{style:{fontSize:"64px"}},"Pokemon Battle Simulator"),r.a.createElement("span",{style:{fontSize:"48px"}},"Sign in to play!"))},F=n(80),I=n.n(F);I.a.initializeApp({apiKey:"AIzaSyByBIqKfdI1Dc_QZ_LCAQvjQo8ijJxtcoc",authDomain:"pokemon-412.firebaseapp.com",databaseURL:"https://pokemon-412.firebaseio.com",projectId:"pokemon-412",storageBucket:"pokemon-412.appspot.com",messagingSenderId:"182425498567",appId:"1:182425498567:web:f43bb45768845944eb9fe2",measurementId:"G-NMGDW4C92Q"});var T=new I.a.auth.GoogleAuthProvider,B=I.a.auth(),R=Object(a.createContext)(null);var U=function(){var e=Object(i.b)(),t=Object(a.useState)(!1),n=Object(m.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)(!1),l=Object(m.a)(s,2),u=(l[0],l[1]);return Object(a.useEffect)((function(){document.body.style.height="90vh",B.onAuthStateChanged((function(t){var n;t?(t.metadata.creationTime===t.metadata.lastSignInTime&&(n=t.uid,g()({method:"post",url:"https://us-central1-pokemon-412.cloudfunctions.net/generate-party",data:{user_id:n},headers:{crossDomain:"true"}})),u(t),e(b(t)),o(!0)):(u(null),e(b(null)),o(!1))}))}),[c]),r.a.createElement(R.Provider,{value:{loggedIn:c,setLoggedIn:o}},r.a.createElement(d.a,null,r.a.createElement("div",{style:{width:"30vw",height:"60px",display:"flex",justifyContent:"space-around",alignItems:"center",backgroundColor:"gray"}},c?r.a.createElement(f.a,{variant:"danger",onClick:function(){return B.signOut()}},"Sign Out"):r.a.createElement(f.a,{variant:"danger",onClick:function(){B.signInWithRedirect(T)}},"Sign In"),c&&r.a.createElement(d.b,{to:"/party"},r.a.createElement(f.a,{variant:"danger"},"Party")),c&&r.a.createElement(d.b,{to:"/match"},r.a.createElement(f.a,{variant:"danger"},"Battle"))),r.a.createElement(p.d,null,r.a.createElement("div",{className:"App",style:{display:"flex",justifyContent:"center",height:"100%",alignItems:"center"}},r.a.createElement(p.b,{path:"/",exact:!0,component:D},c&&r.a.createElement(p.a,{to:"/party"})),r.a.createElement(p.b,{path:"/match",component:_},!c&&r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{path:"/party",component:C},!c&&r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{path:"/battle",component:A},!c&&r.a.createElement(p.a,{to:"/"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(446);var P=n(199),z=n.n(P),L=n(200),N=n.n(L),W=n(57),G=z.a.connect("localhost:8080"),J=Object(W.c)(u,Object(W.a)(N()(G)));document.getElementById("root").style.height="100%",o.a.render(r.a.createElement(i.a,{store:J},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[230,1,2]]]);
//# sourceMappingURL=main.b6588ac3.chunk.js.map